name: polymarket-arb-scanner

on:
  workflow_dispatch:
  schedule:
    - cron: "*/1 * * * *"

jobs:
  scan:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      issues: write
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with:
          python-version: "3.11"
      - name: Install
        run: pip install -r requirements.txt
      - name: Run scanner
        env:
          GITHUB_TOKEN: ${{ github.token }}
          GITHUB_REPOSITORY: ${{ github.repository }}

          DRY_RUN: "1"
          SCAN_MARKETS: "2000"
          FEE_BPS: "0"
          SLIPPAGE_BPS: "50"
          FILL_RISK_BPS: "16"
          MIN_VOLUME: "1000"
          MIN_LIQUIDITY: "500"
          CLOB_WORKERS: "15"
          ARB_QUANTITY: "100"
          TOP_N: "10"
        run: python agent.py
